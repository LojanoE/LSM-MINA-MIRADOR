<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Laboratorio de Suelos y Materiales - Mina Mirador</title>
  <link rel="stylesheet" href="css/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <nav>
      <button class="menu-toggle" id="menu-toggle" aria-label="Abrir men√∫">&#9776;</button>
      <ul id="menu">
        <li><a href="#inicio" class="activo">INICIO</a></li>
        <li><a href="#noticias">NOTICIAS</a></li>
        <li><a href="#mision">MISI√ìN Y VISI√ìN</a></li>
        <li><a href="#ensayos">ENSAYOS</a></li>
        <li><a href="#certificaciones">CERTIFICACIONES PERSONAL</a></li>
        <li><a href="#estadistica">ESTAD√çSTICA</a></li>
      </ul>
      <img src="img/logo_lab.png" alt="Logo" class="logo">
    </nav>
  </header>

<section id="inicio" class="hero">
  <img src="img/laboratorio_equipo.jpg" alt="Equipo del Laboratorio Mina Mirador" class="hero-img">
  <div class="hero-texto">
    <h1>Laboratorio de Suelos y Materiales</h1>
    <p>Mina Mirador ‚Äì Calidad y precisi√≥n en cada an√°lisis</p>
  </div>
</section>  

  <section id="noticias" class="noticias-seccion">
    <h2>Noticias</h2>
    <div class="carousel" id="carousel">
      <button class="carousel-control prev" aria-label="Anterior">&lsaquo;</button>
      <div class="carousel-track-container">
        <ul class="carousel-track">
          <li class="carousel-item current-slide">
            <img src="img/noticias/noticia1.jpg" alt="Noticia 1">
            <h3>¬°Nuevos ingresos!</h3>
            <p>Les presentamos los nuevos ingresos del mes. Ingresa a la noticia y conoce en detalle a cada uno de los colaboradores.</p>
            <a href="#" class="btn-leer">Ver m√°s</a>
          </li>
          <li class="carousel-item">
            <img src="img/noticias/noticia2.jpg" alt="Noticia 2">
            <h3>Pr√≥ximo webinar</h3>
            <p>Participa en nuestro seminario online sobre control de calidad de suelos. Cupos limitados.</p>
            <a href="#" class="btn-leer">Ver m√°s</a>
          </li>
          <li class="carousel-item">
            <img src="img/noticias/noticia3.jpg" alt="Noticia 3">
            <h3>Nuevo equipo</h3>
            <p>Hemos incorporado un nuevo equipo de triaxial de √∫ltima generaci√≥n para ensayos especiales.</p>
            <a href="#" class="btn-leer">Ver m√°s</a>
          </li>
        </ul>
      </div>
      <button class="carousel-control next" aria-label="Siguiente">&rsaquo;</button>
      <div class="carousel-nav">
        <button class="carousel-indicator current-slide" aria-label="Slide 1"></button>
        <button class="carousel-indicator"          aria-label="Slide 2"></button>
        <button class="carousel-indicator"          aria-label="Slide 3"></button>
      </div>
    </div>
  </section>

  <section id="ensayos">
    <h2>ENSAYOS</h2>
    <div class="ensayo-tabs">
      <button class="tab-btn" data-tipo="basicos">B√°sicos</button>
      <button class="tab-btn activo" data-tipo="especiales">Especiales</button>
    </div>
    <div id="ensayos-basicos" class="grupo-ensayos oculto">
      <!-- Ensayos B√°sicos -->
      <div class="ensayo">
        <img src="img/ensayos/GHD.jpg" alt="An√°lisis Granulom√©trico por Sedimentaci√≥n ‚Äì Hidr√≥metro">
        <h3>An√°lisis Granulom√©trico por Sedimentaci√≥n ‚Äì Hidr√≥metro</h3>
        <p>Determina la distribuci√≥n de tama√±os de part√≠culas finas mediante sedimentaci√≥n.<br>
          <strong style="color: #B3611F;">Norma ASTM D7928-21</strong>
        </p>
      </div>
      <div class="ensayo">
        <img src="img/ensayos/ELA.jpg" alt="L√≠mites de Atterberg">
        <h3>L√≠mites de Atterberg</h3>
        <p>Determina los estados de consistencia del suelo seg√∫n su humedad.<br>
        <strong style="color: #B3611F;">Norma ASTM D4318</strong></p>
      </div>
      <div class="ensayo">
        <img src="img/ensayos/PRA.jpg" alt="Pozo de Reemplazo de Agua">
        <h3>Pozo de Reemplazo de Agua</h3>
        <p>Medici√≥n de densidad en campo mediante reemplazo de agua.<br>
        <strong style="color: #B3611F;">Norma ASTM D5030</strong></p>
      </div>
      <!-- M√°s b√°sicos -->
    </div>
    <div id="ensayos-especiales" class="grupo-ensayos">
      <!-- Ensayos Especiales -->
      <div class="ensayo">
        <img src="img/ensayos/CUS.jpg" alt="Consolidaci√≥n Unidimensional">
        <h3>Ensayo de Consolidaci√≥n Unidimensional</h3>
        <p>Permite determinar el asentamiento y el comportamiento de consolidaci√≥n de suelos finos bajo cargas.<br>
        <strong style="color: #B3611F;">Norma correspondiente</strong></p>
      </div>
      <div class="ensayo">
        <img src="img/ensayos/TRX.jpg" alt="Triaxial de suelos">
        <h3>Triaxial de suelos UU/CU/CD y permeabilidad</h3>
        <p>Ensayo para determinar la resistencia y permeabilidad en diferentes condiciones.<br>
        <strong style="color: #B3611F;">Norma ASTM D4767</strong></p>
      </div>
      <div class="ensayo">
        <img src="img/ensayos/VDC.jpg" alt="Ensayo de Veleta de Corte">
        <h3>Ensayo de Veleta de Corte</h3>
        <p>Determina la resistencia al corte no drenada en suelos blandos y saturados.<br>
        <strong style="color: #B3611F;">Norma ASTM D2573</strong></p>
      </div>
      <div class="ensayo">
        <img src="img/ensayos/CUS.jpg" alt="Consolidaci√≥n Unidimensional">
        <h3>Ensayo de Consolidaci√≥n Unidimensional</h3>
        <p>Permite determinar el asentamiento y el comportamiento de consolidaci√≥n de suelos finos bajo cargas.<br>
        <strong style="color: #B3611F;">Norma correspondiente</strong></p>
      </div>
      <!-- M√°s especiales -->
    </div>
  </section>



<section id="mision" class="mision-vision-seccion">
  <div class="mv-container">
    <div class="mv-bloque">
      <div class="mv-icono">üéØ</div>
      <h2>Misi√≥n</h2>
      <p>
        Brindar ensayos de an√°lisis de suelos y materiales de construcci√≥n con precisi√≥n, eficiencia y responsabilidad, cumpliendo con las normativas t√©cnicas vigentes y apoyando el desarrollo de proyectos de infraestructura seguros y sostenibles.
      </p>
    </div>
    <div class="mv-bloque">
      <div class="mv-icono">üöÄ</div>
      <h2>Visi√≥n</h2>
      <p>
        Ser un laboratorio de referencia a nivel regional en estudios de mec√°nica de suelos y control de calidad de materiales, reconocido por su confiabilidad, innovaci√≥n tecnol√≥gica y compromiso con la mejora continua.
      </p>
    </div>
  </div>
</section>


  <section id="certificaciones">
    <h2>Certificaciones</h2>
    <p>Aqu√≠ puedes mostrar tus acreditaciones, normas t√©cnicas y sellos de calidad.</p>
  </section>

<section id="estadistica" style="text-align:center;">
  <h2>Estad√≠stica de Ensayos Realizados</h2>
  <div style="display: flex; justify-content: center; align-items: center;">
    <canvas id="grafico-ensayos" width="380" height="380"></canvas>
  </div>
  <div style="text-align:center; margin-top: 1rem;">
    <span>B√°sicos: <span id="basicos-num">78</span> &nbsp; | &nbsp;</span>
    <span>Especiales: <span id="especiales-num">34</span> &nbsp; | &nbsp;</span>
    <span>Total: <span id="total-num">112</span></span>
  </div>
</section>


  
  <footer>
    <p>Campamento Mirador: V√≠a al Valle del Quimi SN, a tres kil√≥metros de la UPC de Tundayme.<br>
    Tundayme, Zamora Chinchipe, Ecuador<br>
    Quito: Av. Rep√∫blica del Salvador y Naciones Unidas. Edificio Citiplaza, piso 7.<br>
    Quito, Pichincha, Ecuador<br>
    PBX: +59323972000<br>
    ¬© 2025 ECUACORRIENTE S.A. Todos los derechos reservados.</p>
  </footer>
  <div id="modal-ensayo" class="modal-ensayo oculto">
    <div class="modal-contenido">
      <span class="modal-cerrar">&times;</span>
      <img src="" alt="" class="modal-img">
      <h3 class="modal-titulo"></h3>
      <p class="modal-descripcion"></p>
    </div>
  </div>
  <script>
    // Navegaci√≥n por secciones (men√∫)
    const menuLinks = document.querySelectorAll('nav ul li a');
    const sections = document.querySelectorAll('section');
    const modal = document.getElementById('modal-ensayo');
    const detallesEnsayos = {
      'ELA.jpg': {
        titulo: 'L√≠mites de Atterberg',
        descripcion: 'Determina los estados de consistencia del suelo seg√∫n su humedad. <b>Norma ASTM D4318.</b> <br><br><b>¬øPara qu√© sirve?</b> Permite clasificar y entender el comportamiento pl√°stico de los suelos finos, esencial para dise√±o de obras de infraestructura.'
      },
      'VDC.jpg': {
        titulo: 'Ensayo de Veleta de Corte',
        descripcion: 'Determina la resistencia al corte no drenada en suelos blandos y saturados. <b>Norma ASTM D2573.</b><br><br><b>Aplicaciones:</b> An√°lisis de estabilidad de taludes y cimentaciones superficiales en suelos blandos.'
      },
      'PRA.jpg': {
        titulo: 'Pozo de Reemplazo de Agua',
        descripcion: 'Medici√≥n de densidad en campo mediante reemplazo de agua. <b>Norma ASTM D5030.</b><br><br><b>¬øPor qu√© es importante?</b> Se utiliza para control de compactaci√≥n en obras de movimiento de tierras.'
      },
      'TRX.jpg': {
        titulo: 'Triaxial de suelos UU/CU/CD y permeabilidad',
        descripcion: 'Ensayo para determinar la resistencia y permeabilidad en diferentes condiciones. <b>Norma ASTM D4767.</b><br><br><b>¬øQu√© aporta?</b> Resultados clave para an√°lisis geot√©cnicos avanzados y dise√±o seguro de cimentaciones.'
      },
      'CUS.jpg': {
        titulo: 'Ensayo de Consolidaci√≥n Unidimensional',
        descripcion: 'Permite determinar el asentamiento y el comportamiento de consolidaci√≥n de suelos finos bajo cargas. <b>Norma ASTM D2435.</b><br><br><b>Utilidad:</b> Fundamental para prever asentamientos en estructuras y obras civiles.'
      },
      'GHD.jpg': {
        titulo: 'An√°lisis Granulom√©trico por Sedimentaci√≥n - Hidr√≥metro',
        descripcion: 'Permite determinar la distribuci√≥n de tama√±os de part√≠culas finas (arcillas y limos) en suelos mediante sedimentaci√≥n.<br><b>Norma ASTM D7928-21.</b><br><br><b>¬øPara qu√© sirve?</b> Eval√∫a el porcentaje y la distribuci√≥n de part√≠culas menores a 0.075 mm, esencial para clasificaci√≥n y dise√±o geot√©cnico de presas, taludes y cimentaciones.<br><br><b>Departamento:</b> Gesti√≥n de Dep√≥sitos de Relaves.'
      }

    };

    menuLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        if (this.hash) {
          e.preventDefault();
          const targetId = this.hash.replace('#', '');
          if (targetId === 'inicio') {
            sections.forEach(sec => sec.classList.remove('oculto'));
            window.scrollTo({ top: 0, behavior: 'smooth' });
          } else {
            sections.forEach(sec => {
              if (sec.id === targetId) {
                sec.classList.remove('oculto');
                window.scrollTo({ top: sec.offsetTop - 70, behavior: 'smooth' });
              } else {
                sec.classList.add('oculto');
              }
            });
          }
          if (modal) modal.classList.add('oculto');
        }
      });
    });

    window.addEventListener('DOMContentLoaded', () => {
      sections.forEach(sec => sec.classList.remove('oculto'));
    });

    // MODAL para mostrar info y zoom de ensayo
    if (modal) {
      const modalImg = modal.querySelector('.modal-img');
      const modalTitulo = modal.querySelector('.modal-titulo');
      const modalDesc = modal.querySelector('.modal-descripcion');
      const cerrarBtn = modal.querySelector('.modal-cerrar');

      document.querySelectorAll('#ensayos .ensayo img').forEach(img => {
        img.addEventListener('click', function() {
          const src = img.getAttribute('src');
          const nombreArchivo = src.split('/').pop();
          const datos = detallesEnsayos[nombreArchivo];
          if (datos) {
            modalImg.src = src;
            modalImg.alt = datos.titulo;
            modalTitulo.textContent = datos.titulo;
            modalDesc.innerHTML = datos.descripcion;
            modal.classList.remove('oculto');
          }
        });
      });

      cerrarBtn.onclick = () => modal.classList.add('oculto');
      modal.onclick = (e) => { if(e.target === modal) modal.classList.add('oculto'); };
      document.addEventListener('keydown', function(e){
        if(e.key === 'Escape') modal.classList.add('oculto');
      });
    }

    // --- TABS ENSAYOS ---
    const tabBtns = document.querySelectorAll('.tab-btn');
    const ensayosBasicos = document.getElementById('ensayos-basicos');
    const ensayosEspeciales = document.getElementById('ensayos-especiales');

    tabBtns.forEach(btn => {
      btn.addEventListener('click', function() {
        // Quitar el estilo activo de todos
        tabBtns.forEach(b => b.classList.remove('activo'));
        // Activar el seleccionado
        this.classList.add('activo');
        // Mostrar el grupo correspondiente
        if (this.dataset.tipo === 'basicos') {
          ensayosBasicos.classList.remove('oculto');
          ensayosEspeciales.classList.add('oculto');
        } else {
          ensayosBasicos.classList.add('oculto');
          ensayosEspeciales.classList.remove('oculto');
        }
        // Cierra el modal si est√° abierto
        if (modal) modal.classList.add('oculto');
      });
    });
  </script>

  <!-- Chart.js CDN DONA ESTADISTICA -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // N√∫meros de ensayos
      let ensayosBasicos = 5000;
      let ensayosEspeciales = 350;
      let totalEnsayos = ensayosBasicos + ensayosEspeciales;

      // Actualiza los n√∫meros en el HTML
      document.getElementById('basicos-num').textContent = ensayosBasicos;
      document.getElementById('especiales-num').textContent = ensayosEspeciales;
      document.getElementById('total-num').textContent = totalEnsayos;

      // --- PLUGIN PARA TEXTO AL CENTRO ---
      const centerText = {
        id: 'centerText',
        afterDraw(chart, args, options) {
          const {ctx, chartArea: {width, height}} = chart;
          ctx.save();
          // N√∫mero total grande
          ctx.font = 'bold 4.5rem Inter, Arial, sans-serif';
          ctx.fillStyle = '#0F3D54';
          ctx.textAlign = 'center';
          ctx.textBaseline = 'middle';
          ctx.fillText(totalEnsayos, width / 2, height / 2 - 18);

          // Palabra "TOTAL" debajo en m√°s peque√±o
          ctx.font = 'bold 1.5rem Inter, Arial, sans-serif';
          ctx.fillStyle = '#B3611F';
          ctx.fillText('TOTAL', width / 2, height / 2 + 40);
          ctx.restore();
        }
      };

      // Gr√°fico de DONA (solo b√°sicos y especiales)
      const ctx = document.getElementById('grafico-ensayos').getContext('2d');
      const miGrafico = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ['B√°sicos', 'Especiales'],
          datasets: [{
            data: [ensayosBasicos, ensayosEspeciales],
            backgroundColor: ['#0F3D54', '#B3611F'],
            borderColor: '#ffffff',
            borderWidth: 3,
          }]
        },
        options: {
          responsive: false,
          cutout: '68%', // Grosor del aro
          plugins: {
            legend: {
              display: true,
              position: 'bottom',
              labels: {
                color: '#205E78',
                font: { size: 16, weight: 'bold' }
              }
            },
            tooltip: {
              callbacks: {
                label: function(context) {
                  let label = context.label || '';
                  let value = context.parsed;
                  let total = ensayosBasicos + ensayosEspeciales;
                  let porcentaje = ((value / total) * 100).toFixed(1) + '%';
                  return `${label}: ${value} (${porcentaje})`;
                }
              }
            }
          }
        },
        plugins: [centerText]
      });
    });
  </script>

  <script>
    // Men√∫ hamburguesa solo m√≥vil
    const toggleBtn = document.getElementById('menu-toggle');
    const menu = document.getElementById('menu');
    toggleBtn.addEventListener('click', function () {
      menu.classList.toggle('menu-visible');
      toggleBtn.innerHTML = menu.classList.contains('menu-visible') ? '&times;' : '&#9776;';
    });
    // Cierra men√∫ al dar click en cualquier enlace
    menu.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        menu.classList.remove('menu-visible');
        toggleBtn.innerHTML = '&#9776;';
      });
    });
    // Cierra si tocas fuera (opcional)
    document.addEventListener('click', function(e){
      if(window.innerWidth <= 700 && menu.classList.contains('menu-visible') && !menu.contains(e.target) && e.target !== toggleBtn){
        menu.classList.remove('menu-visible');
        toggleBtn.innerHTML = '&#9776;';
      }
    });
  </script>
  <script>
  document.addEventListener('DOMContentLoaded', () => {
    const track    = document.querySelector('.carousel-track');
    const slides   = Array.from(track.children);
    const nextBtn  = document.querySelector('.carousel-control.next');
    const prevBtn  = document.querySelector('.carousel-control.prev');
    const dotsNav  = document.querySelector('.carousel-nav');
    const dots     = Array.from(dotsNav.children);

    // Funci√≥n para posicionar cada slide seg√∫n su ancho actual
    const setSlidePosition = () => {
      const slideWidth = slides[0].getBoundingClientRect().width;
      slides.forEach((slide, i) => {
        slide.style.left = (slideWidth * i) + 'px';
      });
    };
    setSlidePosition();

    // Mover la pista de un slide actual al target
    const moveToSlide = (current, target) => {
      track.style.transform = 'translateX(-' + target.style.left + ')';
      current.classList.remove('current-slide');
      target.classList.add('current-slide');
    };

    // Actualiza los puntos (dots) activos
    const updateDots = (currentDot, targetDot) => {
      currentDot.classList.remove('current-slide');
      targetDot.classList.add('current-slide');
    };

    // Evento clic en flecha "Siguiente"
    nextBtn.addEventListener('click', () => {
      const currentSlide = track.querySelector('.current-slide');
      const nextSlide    = currentSlide.nextElementSibling || slides[0];
      const currentDot   = dotsNav.querySelector('.current-slide');
      const nextDot      = currentDot.nextElementSibling   || dots[0];
      moveToSlide(currentSlide, nextSlide);
      updateDots(currentDot, nextDot);
    });

    // Evento clic en flecha "Anterior"
    prevBtn.addEventListener('click', () => {
      const currentSlide = track.querySelector('.current-slide');
      const prevSlide    = currentSlide.previousElementSibling || slides[slides.length - 1];
      const currentDot   = dotsNav.querySelector('.current-slide');
      const prevDot      = currentDot.previousElementSibling   || dots[dots.length - 1];
      moveToSlide(currentSlide, prevSlide);
      updateDots(currentDot, prevDot);
    });

    // Evento clic en indicadores inferiores
    dotsNav.addEventListener('click', e => {
      const targetDot = e.target.closest('button');
      if (!targetDot) return;
      const currentSlide = track.querySelector('.current-slide');
      const currentDot   = dotsNav.querySelector('.current-slide');
      const targetIndex  = dots.findIndex(dot => dot === targetDot);
      const targetSlide  = slides[targetIndex];
      moveToSlide(currentSlide, targetSlide);
      updateDots(currentDot, targetDot);
    });

    // Autoplay cada 8 segundos
    let autoplay = setInterval(() => nextBtn.click(), 8000);

    // Pausar autoplay al pasar el rat√≥n
    const carousel = document.getElementById('carousel');
    carousel.addEventListener('mouseover', () => clearInterval(autoplay));
    carousel.addEventListener('mouseout',  () => {
      autoplay = setInterval(() => nextBtn.click(), 8000);
    });

    // Recalcular posiciones y reposicionar slide activo al redimensionar
    window.addEventListener('resize', () => {
      setSlidePosition();
      const currentSlide = track.querySelector('.current-slide');
      track.style.transform = 'translateX(-' + currentSlide.style.left + ')';
    });
  });
  </script>
</body>
</html>
